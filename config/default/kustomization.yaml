# Adds namespace to all resources.
namespace: default
namePrefix: netdata-

commonLabels:
  app.kubernetes.io/instance: netdata
  app.kubernetes.io/name: netdata

bases:
- netdatadeployment.yaml
- rbac.yaml
- clusterrb.yaml

configMapGenerator:
- name: config
  files:
    - netdata-config.yaml
- name: manager-config
  files:
    - controller_manager_config.yaml


configurations:
  - nameReference.yaml

images:
  - name: netdata-ipam
    newName: core.harbor.onmetal.de/onmetal/netdata-ipam
    newTag: latest

patches:
- path: patch-service-account.yaml
  target:
    kind: ClusterRoleBinding

# TODO use current namespace if not defined
